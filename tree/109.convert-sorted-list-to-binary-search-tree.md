

### 109. æœ‰åº é“¾è¡¨ è½¬æ¢ äºŒå‰æœç´¢æ ‘
1. é¢˜æ„
    - ç”± é€’å¢ æ•°ç»„/é“¾è¡¨ åºåˆ— å»ºAVL(å¹³è¡¡BST)
        + `å¹³è¡¡`æ„æ€æ˜¯ï¼šä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„ é«˜åº¦å·® çš„ç»å¯¹å€¼ ä¸è¶…è¿‡ 1ã€‚
    - `é€’å¢`åºåˆ—
        + å¯ä»¥æ˜¯é¢˜ç›®ç›´æ¥ç»™å‡º
        + ä¹Ÿå¯ä»¥è‡ªå·±`ä¸­åºéå†`
    - **ç»“æœ ä¸å”¯ä¸€**
2. æ€è·¯
    - æ–¹æ³•1ï¼šå°†`é“¾è¡¨`è½¬æ¢ä¸º`æ•°ç»„`ï¼Œå…¶å®ƒæ“ä½œåŒ[ç”± é€’å¢æ•°ç»„åºåˆ— å»ºAVL](./balance-a-binary-search-tree.md)
    - æ–¹æ³•2ï¼šæ•°ç»„é‡Œè®¿é—®ä¸­ç‚¹æ˜¯ç›´æ¥ä¸‹æ ‡ï¼Œé“¾è¡¨é‡Œæ€ä¹ˆè®¿é—®ä¸­ç‚¹ï¼ŸğŸ‘‰`å¿«æ…¢æŒ‡é’ˆ`    
        + é™¤äº† é“¾è¡¨ ä¸­ç‚¹è®¿é—®æ–¹å¼ä¹‹å¤–ï¼Œå…¶å®ƒæ“ä½œï¼ŒåŒ æ–¹æ³•1ã€‚
3. å®ç°
    - æ–¹æ³•1
        ```
        class Solution {
        public:
            TreeNode* dfs(vector<int>& in_order_seq, int left, int right) {
                if(left<=right){
                    int mid = (left+right)/2;
                    TreeNode* cur = new TreeNode(in_order_seq[mid]);
                    cur->left = dfs(in_order_seq, left, mid-1);
                    cur->right = dfs(in_order_seq, mid+1, right); 
                    return cur;       
                }
                else
                    return NULL;
            }
            TreeNode* sortedListToBST(ListNode* head) {
                ListNode* p = head;
                vector<int> in_order_seq;
                while(p!=NULL){
                    in_order_seq.push_back(p->val);
                    p = p->next;
                }
                return dfs(in_order_seq, 0, in_order_seq.size()-1);
            }
        };
        ```
    - æ–¹æ³•2
        ```
        class Solution {
        public:    
            ListNode* getMid(ListNode* head, ListNode* end) {
                // é“¾è¡¨æ˜¯ç©º/ é“¾è¡¨åªæœ‰ä¸€ä¸ªå…ƒç´  æƒ…å†µ
                if(head==NULL || head->next==NULL)
                    return head;

                ListNode* slow = head;
                ListNode* fast = head;
                // åˆ†å‰² é“¾è¡¨
                while(fast!= end && fast->next!= end){
                    slow = slow->next;
                    fast = fast->next->next;
                }
                // slowå°±æ˜¯é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€‚
                // å¦‚æœä¸­é—´ç»“ç‚¹æœ‰ä¸¤ä¸ªï¼Œslowå°±æ˜¯ç¬¬äºŒä¸ªä¸­é—´ç»“ç‚¹ã€‚
                return slow;
            }
            TreeNode* dfs(ListNode* head, ListNode* end) {
                if(head != end){
                    ListNode* mid = getMid(head, end);
                    TreeNode* cur = new TreeNode(mid->val);
                    cur->left = dfs(head, mid);
                    cur->right = dfs(mid->next, end); 
                    return cur;       
                }
                else
                    return NULL;
            }
            TreeNode* sortedListToBST(ListNode* head) {        
                return dfs(head, NULL);
            }
        };
        ```