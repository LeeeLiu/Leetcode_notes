

### 123. Best Time to Buy and Sell Stock III
>æè¿°ï¼šå’Œé¢˜ç›®122ç›¸æ¯”ï¼Œæœ¬é¢˜ç›®è¦æ±‚ï¼Œ**æœ€å¤šè¿›è¡Œ2æ¬¡äº¤æ˜“**ã€‚
1. <p id="123">å®ç°ï¼šbuy-sale,buy-saleæ¨¡å¼</p>
    
    ```
    class Solution {
    public:
        int maxProfit(vector<int>& prices) {
            int buy1=INT_MAX, buy2=INT_MAX, sale1=0, sale2=0;
            for(auto p: prices)
            {
                buy1 = min(buy1, p);
                sale1 = max(sale1, p-buy1);

                buy2 = min(buy2, p-sale1);
                sale2 = max(sale2, p-buy2);
            }
            return sale2;
        }
    };
    ```

### 188. Best Time to Buy and Sell Stock IV
>æè¿°ï¼šå’Œã€123ã€‘ç›¸æ¯”ï¼Œäº¤æ˜“ç”±2æ¬¡æ‰©å±•åˆ°Kæ¬¡ã€‚
1. <p id="188">å®ç°ï¼šç±»ä¼¼DP</p>

    ```
    class Solution {
    public:
        int maxProfit(int k, vector<int>& prices) {        
            int i;        
            // ä¸ºäº†é¿å…è¶…æ—¶ğŸ‘‡
            // å¦‚æœkæ¯”è¾ƒå¤§ï¼Œé¢˜ç›®ç­‰ä»·äºâ€˜äº¤æ˜“æ¬¡æ•°ä¸é™â€™ã€122ã€‘
            if(k > prices.size()/2)
            {
                int res=0;
                for(i=1; i<prices.size(); i++)
                {
                    res += max(0, prices[i]-prices[i-1]);
                }
                return res;
            }        
            // ã€123ã€‘å»¶ä¼¸ï¼šæœ€å¤š2æ¬¡äº¤æ˜“ğŸ‘‰æœ€å¤škæ¬¡
            vector<int> buy(k+1,INT_MAX);
            vector<int> sale(k+1,0);
            for(auto p: prices)
            {
                for(i=1; i<=k; i++)
                {
                    buy[i] = min(buy[i], p-sale[i-1]);
                    sale[i] = max(sale[i], p-buy[i]);
                }            
            }
            return sale[k];  
        }
    };
    ```


### å°ç»“ï¼šä¹°å–è‚¡ç¥¨é¢˜å‹
- å‰ææ˜¯ï¼šä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆå¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰
    * [#121ä¸€æ¬¡äº¤æ˜“](./121.BestTimetoBuyandSellStock.md)ğŸ‘‰[#122äº¤æ˜“æ¬¡æ•°ä¸é™](./122.BestTimetoBuyandSellStockII.md)ğŸ‘‰[#123ä»…é™2æ¬¡](#123)ğŸ‘‰[#188ä»…é™Kæ¬¡](#188)
        
    * å«æ‰‹ç»­è´¹ğŸ‘‰å«å†·å†»æœŸï¼ˆå¾…ç»­ï¼‰
        #309 #714
    
- å¯ä»¥åŒæ—¶å¤šç¬”äº¤æ˜“ï¼šé¢†æ‰£CATä¸“å±

- å‚è€ƒé¢˜è§£ï¼ˆ2æ¬¡ğŸ‘‰kæ¬¡ï¼‰
    * [å‚è€ƒ1](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/discuss/54125/Very-understandable-solution-by-reusing-Problem-III-idea)
    * [å‚è€ƒ2](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/discuss/54121/Share-my-C%2B%2B-DP-solution-with-O(kn)-time-O(k)-space-10ms)
    * [å‚è€ƒ3](https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/discuss/135704/Detail-explanation-of-DP-solution)
